openapi: 3.0.3
info:
  title: Compute Service API
  description: |-
    The Compute Service API provides services that allows provisioning and life cycle
    management of Compute clusters.
  version: 1.10.0
paths:
  /api/v1/organizations/{organizationID}/regions:
    description: |-
      Accesses a filtered list of regions for use with different cluster types.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    get:
      description: |-
        Lists compute service compatible regions.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/region/main/pkg/openapi/server.spec.yaml#/components/responses/regionsResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/regions/{regionID}/flavors:
    description: |-
      Compute flavor services.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/regionIDParameter'
    get:
      description: |-
        Lists all compute compatible flavors that the user has access to.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/region/main/pkg/openapi/server.spec.yaml#/components/responses/flavorsResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/regions/{regionID}/images:
    description: |-
      Compute image services.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/regionIDParameter'
    get:
      description: |-
        Lists all compute compatible images that the user has access to.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/region/main/pkg/openapi/server.spec.yaml#/components/responses/imagesResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/clusters:
    description: Cluster services.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/parameters/tagSelectorParameter'
    get:
      description: |-
        List all clusters within the organization.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/computeClustersResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/clusters:
    description: Cluster services.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    post:
      description: |-
        Creates a new cluster.
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/createComputeClusterRequest'
      responses:
        '202':
          $ref: '#/components/responses/computeClusterResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '409':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/conflictResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/clusters/{clusterID}:
    description: Cluster services.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/clusterIDParameter'
    get:
      description: |-
        Get a detailed view of the cluster.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/computeClusterDetailResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    put:
      description: |-
        Update a cluster within the selected cluster manager.
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/createComputeClusterRequest'
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    delete:
      description: |-
        Delete a cluster.
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/clusters/{clusterID}/evict:
    description: Cluster services.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/clusterIDParameter'
    post:
      description: |-
        Delete a set of machines from a cluster.  This will implicitly scale down the
        workload pools those machines were part of.
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/evictionRequest'
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/clusters/{clusterID}/machines/{machineID}/start:
    description: Cluster services.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/clusterIDParameter'
    - $ref: '#/components/parameters/machineIDParameter'
    post:
      x-no-body: true
      description: |-
        Start a stopped machine within a cluster.
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/clusters/{clusterID}/machines/{machineID}/stop:
    description: Cluster services.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/clusterIDParameter'
    - $ref: '#/components/parameters/machineIDParameter'
    post:
      x-no-body: true
      description: |-
        Stop a running machine within a cluster.
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/clusters/{clusterID}/machines/{machineID}/softreboot:
    description: Cluster services.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/clusterIDParameter'
    - $ref: '#/components/parameters/machineIDParameter'
    post:
      x-no-body: true
      description: |-
        Soft reboot a machine within a cluster.
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/clusters/{clusterID}/machines/{machineID}/hardreboot:
    description: Cluster services.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/clusterIDParameter'
    - $ref: '#/components/parameters/machineIDParameter'
    post:
      x-no-body: true
      description: |-
        Hard reboot a machine within a cluster.
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/clusters/{clusterID}/machines/{machineID}/consolesessions:
    description: Cluster services.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/clusterIDParameter'
    - $ref: '#/components/parameters/machineIDParameter'
    get:
      description: |-
        Create a new console session for a machine.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/region/main/pkg/openapi/server.spec.yaml#/components/responses/consoleSessionResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/clusters/{clusterID}/machines/{machineID}/consoleoutput:
    description: Cluster services.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/clusterIDParameter'
    - $ref: '#/components/parameters/machineIDParameter'
    - $ref: '#/components/parameters/lengthParameter'
    get:
      description: |-
        Get the console output for a machine.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/region/main/pkg/openapi/server.spec.yaml#/components/responses/consoleOutputResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/instances:
    description: Compute instance services.
    get:
      description: List compute instances.
      security:
      - oauth2Authentication: []
      parameters:
      - $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/parameters/tagSelectorParameter'
      - $ref: '#/components/parameters/organizationIDQueryParameter'
      - $ref: '#/components/parameters/projectIDQueryParameter'
      - $ref: '#/components/parameters/regionIDQueryParameter'
      - $ref: '#/components/parameters/networkIDQueryParameter'
      responses:
        '200':
          $ref: '#/components/responses/instancesResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    post:
      description: Create an instance.
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/instanceCreateRequest'
      responses:
        '201':
          $ref: '#/components/responses/instanceResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/instances/{instanceID}:
    description: Compute instance services.
    parameters:
    - $ref: '#/components/parameters/instanceIDParameter'
    get:
      description: Get an instance.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/instanceResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    put:
      description: Update an instance.
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/instanceUpdateRequest'
      responses:
        '202':
          $ref: '#/components/responses/instanceResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    delete:
      description: Delete an instance.
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/instances/{instanceID}/reboot:
    description: Compute instance services.
    parameters:
    - $ref: '#/components/parameters/instanceIDParameter'
    - $ref: '#/components/parameters/hardRebootParameter'
    post:
      x-no-body: true
      description: |-
        Reboot an instance.  By default this will perform a software ACPI reboot.
        You can specifiy a hard power cycle as a query parameter.
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/instances/{instanceID}/start:
    description: Compute instance services.
    parameters:
    - $ref: '#/components/parameters/instanceIDParameter'
    post: 
      x-no-body: true
      description: |-
        Start a stopped instance.
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/instances/{instanceID}/stop:
    description: Compute instance services.
    parameters:
    - $ref: '#/components/parameters/instanceIDParameter'
    post: 
      x-no-body: true
      description: |-
        Stop a running instnace.
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/instances/{instanceID}/consolesession:
    description: Compute instance services.
    parameters:
    - $ref: '#/components/parameters/instanceIDParameter'
    get:
      description: |-
        Create a new console session for an instance.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/region/main/pkg/openapi/server.spec.yaml#/components/responses/consoleSessionResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/instances/{instanceID}/consoleoutput:
    description: Compute instance services.
    parameters:
    - $ref: '#/components/parameters/instanceIDParameter'
    - $ref: '#/components/parameters/lengthParameter'
    get:
      description: |-
        Get the console output for an instance.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/region/main/pkg/openapi/server.spec.yaml#/components/responses/consoleOutputResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
components:
  parameters:
    organizationIDParameter:
      name: organizationID
      in: path
      description: The organization ID.
      required: true
      schema:
        $ref: '#/components/schemas/kubernetesNameParameter'
    projectIDParameter:
      name: projectID
      in: path
      description: The project ID.
      required: true
      schema:
        $ref: '#/components/schemas/kubernetesNameParameter'
    regionIDParameter:
      name: regionID
      in: path
      description: The region ID.
      required: true
      schema:
        $ref: '#/components/schemas/kubernetesNameParameter'
    instanceIDParameter:
      name: instanceID
      in: path
      description: The instance ID.
      required: true
      schema:
        $ref: '#/components/schemas/kubernetesNameParameter'
    clusterIDParameter:
      name: clusterID
      in: path
      description: The cluster ID.
      required: true
      schema:
        $ref: '#/components/schemas/kubernetesNameParameter'
    machineIDParameter:
      name: machineID
      in: path
      description: The machine ID.
      required: true
      schema:
        $ref: '#/components/schemas/kubernetesNameParameter'
    lengthParameter:
      name: length
      in: query
      description: The requested output length.
      schema:
        type: integer
    hardRebootParameter:
      name: hard
      in: query
      description: Whether the reboot is hard.
      schema:
        type: boolean
    organizationIDQueryParameter:
      name: organizationID
      in: query
      description: Allows resources to be filtered by organization.
      schema:
        type: array
        items:
          type: string
    projectIDQueryParameter:
      name: projectID
      in: query
      description: Allows resources to be filtered by project.
      schema:
        type: array
        items:
          type: string
    regionIDQueryParameter:
      name: regionID
      in: query
      description: Allows resources to be filtered by region.
      schema:
        type: array
        items:
          type: string
    networkIDQueryParameter:
      name: networkID
      in: query
      description: Allows resources to be filtered by network.
      schema:
        type: array
        items:
          type: string
  schemas:
    kubernetesNameParameter:
      description: A Kubernetes name. Must be a valid DNS containing only lower case characters, numbers or hyphens, start and end with a character or number, and be at most 63 characters in length.
      type: string
      minLength: 1
      maxLength: 63
    computeClusterNetwork:
      description: Compute cluster network settings.
      type: object
      properties:
        nodePrefix:
          description: Network prefix to provision nodes in. Must be a valid CIDR block.
          type: string
        dnsNameservers:
          description: A list of DNS name server to use.
          type: array
          items:
            description: A DNS name server IPv4 address.
            type: string
    volume:
      description: A volume.  This is currently only valid for VM based flavors.
      type: object
      required:
      - size
      properties:
        size:
          description: Disk size in GiB.
          type: integer
    allowedSourceAddresses:
      description: |-
        A list of network prefixes that are allowed to egress from the server.
        By default, only packets from the server's network interface's IP address
        are allowed to enter the network.  Use of this option allows the server
        to act as a router without SNAT rules.
      type: array
      items:
        description: An allowed source address prefix.
        type: string
    securityGroupIDList:
      description: A list of security group IDs.
      type: array
      items:
        description: A security group ID.
        type: string
    instanceNetworking:
      description: A compute instance's network  configuration.
      type: object
      properties:
        securityGroups:
          $ref: '#/components/schemas/securityGroupIDList'
        publicIP:
          description: Whether or not to provision a public IP.
          type: boolean
        allowedSourceAddresses:
          $ref: '#/components/schemas/allowedSourceAddresses'
    instanceSpec:
      description: A compute instance.
      type: object
      required:
      - flavorId
      - imageId
      properties:
        flavorId:
          description: The flavor CPU/RAM of a compute instance.
          type: string
        imageId:
          description: The image of a compute instance.
          type: string
        networking:
          $ref: '#/components/schemas/instanceNetworking'
        userData:
          description: |-
            Contains base64-encoded configuration information or scripts to use upon launch.
            The format of the data is governed by the cloud-init standard, and may be a script,
            a MIME multipart archive, etc.
          type: string
          format: byte
    instanceCreateSpec:
      description: A compute instance.
      type: object
      allOf:
      - $ref: '#/components/schemas/instanceSpec'
      - type: object
        required:
        - organizationId
        - projectId
        - networkId
        properties:
          organizationId:
            description: The organization to provision the resource in.
            type: string
          projectId:
            description: The project to provision the resource in.
            type: string
          networkId:
            description: The network ID to attach the compute instance to.
            type: string
    instanceStatus:
      description: Read only status information about a compute instance.
      type: object
      required:
      - regionId
      - networkId
      properties:
        regionId:
          description: The region a security group belongs to.
          type: string
        networkId:
          description: The network a security group belongs to.
          type: string
        powerState:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/region/main/pkg/openapi/server.spec.yaml#/components/schemas/instanceLifecyclePhase'
        privateIP:
          description: The private IP address of the server.
          type: string
        publicIP:
          description: The public IP address of the server.
          type: string
    instanceRead:
      description: A compute instance.
      type: object
      required:
      - metadata
      - spec
      - status
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/projectScopedResourceReadMetadata'
        spec:
          $ref: '#/components/schemas/instanceSpec'
        status:
          $ref: '#/components/schemas/instanceStatus'
    instancesRead:
      description: A list of compute instances.
      type: array
      items:
        $ref: '#/components/schemas/instanceRead'
    instanceCreate:
      description: A compute instance creation request.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceWriteMetadata'
        spec:
          $ref: '#/components/schemas/instanceCreateSpec'
    instanceUpdate:
      description: A compute instance update request.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceWriteMetadata'
        spec:
          $ref: '#/components/schemas/instanceSpec'
    machinePool:
      description: A Compute cluster machine pool.
      type: object
      required:
      - replicas
      - flavorId
      - image
      properties:
        replicas:
          description: Number of machines.
          type: integer
        flavorId:
          description: Flavor ID.
          type: string
          minLength: 1
        disk:
          $ref: '#/components/schemas/volume'
        firewall:
          $ref: '#/components/schemas/firewallRules'
        publicIPAllocation:
          $ref: '#/components/schemas/publicIPAllocation'
        image:
          $ref: '#/components/schemas/computeImage'
        userData:
          description: UserData contains base64-encoded configuration information or scripts to use upon launch.
          type: string
          format: byte
        allowedAddressPairs:
          $ref: '#/components/schemas/allowedAddressPairList'
    allowedAddressPairList:
      description: A list of allowed address pairs.
      type: array
      items:
        $ref: '#/components/schemas/allowedAddressPair'
    allowedAddressPair:
      description: |-
        Allow multiple MAC/IP address (range) pairs to pass through this network port.
        Typically required when the machine is operating as a router.
      type: object
      required:
      - cidr
      properties:
        cidr:
          description: The CIDR to allow.
          type: string
        macAddress:
          description: The MAC address to allow.
          type: string
    firewallRules:
      description: A list of firewall rules applied to a workload pool.
      type: array
      items:
        $ref: '#/components/schemas/firewallRule'
    firewallRule:
      description: A firewall rule applied to a workload pool.
      type: object
      required:
      - direction
      - protocol
      - port
      - prefixes
      properties:
        direction:
          description: The direction of network traffic to apply the rule to.
          type: string
          enum:
          - ingress
          - egress
        protocol:
          description: The protocol to allow.
          type: string
          enum:
          - tcp
          - udp
        port:
          description: The port to allow, or start of a port range.
          type: integer
        portMax:
          description: The end of a port range, inclusive of this this port, if specified.
          type: integer
        prefixes:
          description: A list of CIDR prefixes to allow, it might be any IPv4 or IPv6 in CIDR notation.
          type: array
          items:
            type: string
    publicIPAllocation:
      description: A public IP allocation settings.
      type: object
      required:
      - enabled
      properties:
        enabled:
          description: Enable public IP allocation.
          type: boolean
    computeImage:
      description: The image to use for a server.
      type: object
      properties:
        id:
          description: The image ID.
          type: string
        selector:
          $ref: '#/components/schemas/imageSelector'
      # TODO: in the Typescript generator this causes a use to be declared as
      # 'ComputeImage | null', which is a) wrong and b) inconvenient, thus needs
      # investigation.
      oneOf:
      - required:
        - id
      - required:
        - selector
    imageSelector:
      description: A server image selector.
      type: object
      required:
      - distro
      - version
      properties:
        distro:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/region/main/pkg/openapi/server.spec.yaml#/components/schemas/osDistro'
        variant:
          description: The operating system variant.
          type: string
        version:
          description: The operating system version to use.
          type: string
    computeClusterWorkloadPool:
      description: A Compute cluster workload pool.
      type: object
      required:
      - name
      - machine
      properties:
        name:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/kubernetesLabelValue'
        machine:
          $ref: '#/components/schemas/machinePool'
    computeClusterWorkloadPools:
      description: A list of Compute cluster workload pools.
      type: array
      items:
        $ref: '#/components/schemas/computeClusterWorkloadPool'
    computeClusterSpec:
      description: Compute cluster creation parameters.
      type: object
      required:
      - regionId
      - workloadPools
      properties:
        regionId:
          description: The region to provision the cluster in.
          type: string
        workloadPools:
          $ref: '#/components/schemas/computeClusterWorkloadPools'
    computeClusterStatus:
      description: Compute cluster status.
      type: object
      properties:
        sshPrivateKey:
          description: SSH private key that allows access to the cluster.
          type: string
        workloadPools:
          $ref: '#/components/schemas/computeClusterWorkloadPoolsStatus'
    computeClusterWorkloadPoolsStatus:
      description: A list of Compute cluster workload pools status.
      type: array
      items:
        $ref: '#/components/schemas/computeClusterWorkloadPoolStatus'
    computeClusterWorkloadPoolStatus:
      description: Compute cluster workload pool status.
      type: object
      required:
      - name
      - replicas
      properties:
        name:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/kubernetesLabelValue'
        replicas:
          description: Number of machines.
          type: integer
        machines:
          $ref: '#/components/schemas/computeClusterMachinesStatus'
    computeClusterMachinesStatus:
      description: A list of Compute cluster machines status.
      type: array
      items:
        $ref: '#/components/schemas/computeClusterMachineStatus'
    computeClusterMachineStatus:
      description: Compute cluster machine status.
      type: object
      required:
      - id
      - hostname
      - imageID
      - flavorID
      - status
      - provisioningStatus
      - healthStatus
      properties:
        id:
          description: Machine ID.
          type: string
        hostname:
          description: Machine hostname.
          type: string
        imageID:
          description: Machine image ID.
          type: string
        flavorID:
          description: Machine flavorID.
          type: string
        privateIP:
          description: Machine private IP address.
          type: string
        publicIP:
          description: Machine public IP address.
          type: string
        status:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/region/main/pkg/openapi/server.spec.yaml#/components/schemas/instanceLifecyclePhase'
        provisioningStatus:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceProvisioningStatus'
        healthStatus:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceHealthStatus'
    computeClusterRead:
      description: Compute cluster read.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/projectScopedResourceReadMetadata'
        spec:
          $ref: '#/components/schemas/computeClusterSpec'
        status:
          $ref: '#/components/schemas/computeClusterStatus'
    computeClusterWrite:
      description: Compute cluster create or update.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceWriteMetadata'
        spec:
          $ref: '#/components/schemas/computeClusterSpec'
    computeClusters:
      description: A list of Compute clusters.
      type: array
      items:
        $ref: '#/components/schemas/computeClusterRead'
    machineIDList:
      description: A list of machine IDs, these are returned in the cluster status.
      type: array
      items:
        description: A machine ID.
        type: string
        minItems: 1
    evictionWrite:
      description: A set of machines to evict from a cluster.
      type: object
      required:
      - machineIDs
      properties:
        machineIDs:
          $ref: '#/components/schemas/machineIDList'
  requestBodies:
    instanceCreateRequest:
      description: A compute instance creation request.
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/instanceCreate'
          example:
            metadata:
              name: my-host
            spec:
              organizationId: d4600d6e-e965-4b44-a808-84fb2fa36702
              projectId: cae219d7-10e5-4601-8c2c-ee7e066b93ce          
              networkId: b059b3e6-9ae5-42b7-94b4-f42fb7a6baee
              flavorId: c7568e2d-f9ab-453d-9a3a-51375f78426b
              imageId: a10e30e8-006a-48e6-a3c7-3c9416891f31
              networking:
                securityGroups:
                - dd5954af-1d71-4abf-bb16-5729c7163886
    instanceUpdateRequest:
      description: A compute instance update request.
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/instanceUpdate'
          example:
            metadata:
              name: my-host
            spec:
              flavorId: c7568e2d-f9ab-453d-9a3a-51375f78426b
              imageId: a10e30e8-006a-48e6-a3c7-3c9416891f31
              networking:
                securityGroups:
                - dd5954af-1d71-4abf-bb16-5729c7163886
    createComputeClusterRequest:
      description: Compute cluster request parameters.
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/computeClusterWrite'
          example:
            metadata:
              name: cluster
            spec:
              regionId: b059b3e6-9ae5-42b7-94b4-f42fb7a6baee
              workloadPools:
              - name: default
                machine:
                  flavorId: c7568e2d-f9ab-453d-9a3a-51375f78426b
                  image:
                    selector:
                      distro: ubuntu
                      version: '24.04'
                  replicas: 3
                firewall:
                  - direction: ingress
                    protocol: tcp
                    port: 80
                    prefixes:
                    - 192.168.1.0/24
                  - direction: ingress
                    protocol: tcp
                    port: 1066
                    portMax: 1999
                    prefixes:
                    - 10.0.0.0/8
                    - 172.16.0.0/12
                publicIPAllocation:
                  enabled: true
                allowedAddressPairs:
                  - cidr: 10.8.0.0/16
    evictionRequest:
      description: A set of machines to evict from a cluster.
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/evictionWrite'
          example:
            machineIDs:
            - da920952-b2fc-4bd9-a0b6-54477a2c0254
            - 713cf558-4d32-4598-8af2-48e587b67a50
  responses:
    instanceResponse:
      description: A compute instance.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/instanceRead'
          example:
            metadata:
              id: c7568e2d-f9ab-453d-9a3a-51375f78426b
              name: my-host
              organizationId: d4600d6e-e965-4b44-a808-84fb2fa36702
              projectId: cae219d7-10e5-4601-8c2c-ee7e066b93ce
              creationTime: 2023-07-31T10:45:45Z
              provisioningStatus: provisioned
              healthStatus: healthy
            spec:
              flavorId: c7568e2d-f9ab-453d-9a3a-51375f78426b
              imageId: a10e30e8-006a-48e6-a3c7-3c9416891f31
              networking:
                publicIP: true
                securityGroups:
                - dd5954af-1d71-4abf-bb16-5729c7163886
            status:
              regionId: bb518c64-6856-4d67-a799-314ba668649f
              networkId: b059b3e6-9ae5-42b7-94b4-f42fb7a6baee
              privateIP: 192.168.0.3
              publicIP: 183.45.68.162
              powerState: Running
    instancesResponse:
      description: A list of compute instances.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/instancesRead'
          example:
          - metadata: 
              id: c7568e2d-f9ab-453d-9a3a-51375f78426b
              name: my-host
              organizationId: d4600d6e-e965-4b44-a808-84fb2fa36702
              projectId: cae219d7-10e5-4601-8c2c-ee7e066b93ce
              creationTime: 2023-07-31T10:45:45Z
              provisioningStatus: provisioned
              healthStatus: healthy
            spec:
              flavorId: c7568e2d-f9ab-453d-9a3a-51375f78426b
              imageId: a10e30e8-006a-48e6-a3c7-3c9416891f31
              networking:
                publicIP: true
                securityGroups:
                - dd5954af-1d71-4abf-bb16-5729c7163886
            status:
              regionId: bb518c64-6856-4d67-a799-314ba668649f
              networkId: b059b3e6-9ae5-42b7-94b4-f42fb7a6baee
              privateIP: 192.168.0.3
              publicIP: 183.45.68.162
              powerState: Running
    computeClusterResponse:
      description: A Compute cluster.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/computeClusterRead'
          example:
            metadata:
              id: c7568e2d-f9ab-453d-9a3a-51375f78426b
              name: cluster
              organizationId: d4600d6e-e965-4b44-a808-84fb2fa36702
              projectId: cae219d7-10e5-4601-8c2c-ee7e066b93ce
              creationTime: 2023-07-31T10:45:45Z
              provisioningStatus: provisioned
              healthStatus: healthy
            spec:
              regionId: b059b3e6-9ae5-42b7-94b4-f42fb7a6baee
              workloadPools:
              - name: default
                machine:
                  flavorId: c7568e2d-f9ab-453d-9a3a-51375f78426b
                  image:
                    selector:
                      distro: ubuntu
                      version: '24.04'
                  replicas: 3
                firewall:
                  - direction: ingress
                    protocol: tcp
                    port: 80
                    prefixes:
                    - 192.168.1.0/24
                  - direction: ingress
                    protocol: tcp
                    port: 1066
                    portMax: 1999
                    prefixes:
                    - 10.0.0.0/8
                    - 172.16.0.0/12
                publicIPAllocation:
                  enabled: true
            status:
              workloadPools:
              - name: default
                replicas: 1
                machines:
                - id: 64bfb020-8731-4182-a4c8-f8e5bcfc1c3e
                  hostname: machine-1
                  flavorID: c7568e2d-f9ab-453d-9a3a-51375f78426b
                  imageID: 268ba68f-9690-49f0-8404-5f41bb7c3dc3
                  privateIP: 10.0.0.1
                  publicIP: 172.16.0.2
                  status: Running
                  provisioningStatus: provisioned
                  healthStatus: healthy
    computeClusterDetailResponse:
      description: A detailed description of the region.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/computeClusterRead'
          example:
            metadata:
              id: c7568e2d-f9ab-453d-9a3a-51375f78426b
              name: cluster
              organizationId: d4600d6e-e965-4b44-a808-84fb2fa36702
              projectId: cae219d7-10e5-4601-8c2c-ee7e066b93ce
              creationTime: 2023-07-31T10:45:45Z
              provisioningStatus: provisioned
              healthStatus: healthy
            spec:
              regionId: b059b3e6-9ae5-42b7-94b4-f42fb7a6baee
              workloadPools:
              - name: default
                machine:
                  flavorId: c7568e2d-f9ab-453d-9a3a-51375f78426b
                  image:
                    selector:
                      distro: ubuntu
                      version: '24.04'
                  replicas: 3
                firewall:
                - direction: ingress
                  protocol: tcp
                  port: 80
                  prefixes:
                  - 192.168.1.0/24
                - direction: ingress
                  protocol: tcp
                  port: 1066
                  portMax: 1999
                  prefixes:
                  - 10.0.0.0/8
                  - 172.16.0.0/12
                publicIPAllocation:
                  enabled: true
            status:
              workloadPools:
              - name: default
                replicas: 1
                machines:
                - id: 64bfb020-8731-4182-a4c8-f8e5bcfc1c3e
                  hostname: machine-1
                  flavorID: c7568e2d-f9ab-453d-9a3a-51375f78426b
                  imageID: 268ba68f-9690-49f0-8404-5f41bb7c3dc3
                  privateIP: 10.0.0.1
                  publicIP: 172.16.0.2
                  status: Running
                  provisioningStatus: provisioned
                  healthStatus: healthy
    computeClustersResponse:
      description: A list of Compute clusters.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/computeClusters'
          example:
          - metadata:
              id: c7568e2d-f9ab-453d-9a3a-51375f78426b
              name: cluster
              organizationId: d4600d6e-e965-4b44-a808-84fb2fa36702
              projectId: cae219d7-10e5-4601-8c2c-ee7e066b93ce
              creationTime: 2023-07-31T10:45:45Z
              provisioningStatus: provisioned
              healthStatus: healthy
            spec:
              regionId: b059b3e6-9ae5-42b7-94b4-f42fb7a6baee
              workloadPools:
              - name: default
                machine:
                  flavorId: c7568e2d-f9ab-453d-9a3a-51375f78426b
                  image:
                    selector:
                      distro: ubuntu
                      version: '24.04'
                  replicas: 3
                firewall:
                  - direction: ingress
                    protocol: tcp
                    port: 80
                    prefixes:
                    - 192.168.1.0/24
                  - direction: ingress
                    protocol: tcp
                    port: 1066
                    portMax: 1999
                    prefixes:
                    - 10.0.0.0/8
                    - 172.16.0.0/12
                publicIPAllocation:
                  enabled: true
            status:
              workloadPools:
              - name: default
                replicas: 1
                machines:
                - id: 64bfb020-8731-4182-a4c8-f8e5bcfc1c3e
                  hostname: machine-1
                  flavorID: c7568e2d-f9ab-453d-9a3a-51375f78426b
                  imageID: 268ba68f-9690-49f0-8404-5f41bb7c3dc3
                  privateIP: 10.0.0.1
                  publicIP: 172.16.0.2
                  status: Running
                  provisioningStatus: provisioned
                  healthStatus: healthy
  securitySchemes:
    oauth2Authentication:
      description: Operation requires OAuth 2.0 bearer token authentication.
      type: oauth2
      flows:
        authorizationCode:
          authorizationUrl: https://identity.nks.europe-west4.nscale.com/oauth2/v2/authorization
          tokenUrl: https://identity.nks.europe-west4.nscale.com/oauth2/v2/token
          scopes: {}

